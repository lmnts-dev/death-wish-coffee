{%- layout 'theme' -%}

{%- comment -%}
This template has some complicated version depending on which type of blog we're showing. 
If this comment is still here, please consult with the lead developer on the project before proceeding.
{%- endcomment -%}

{%- render 'carousel' -%}

{%- assign list_article = blog.metafields.article_hero_card.article -%}
{%- capture content_slides -%}
  {% for handle in list_article %}
    {%- assign notice = blog.metafields.article_hero_card.notice_title[forloop.index0] -%}
    {%- assign article = articles[handle] -%}
    {% assign class = 'swiper-slide' %}
    {% assign title = article.title %}
    {% assign image = article.image.src | img_url: 'master' %}
    {% assign url = article.url %}
    {% assign description = article.excerpt %}
    {% capture info %}
      {{ article.author }} - {{ article.created_at | time_tag: format: 'month_day_year' }}
    {% endcapture %}
    {% assign blog = handle | split: '/' | first %}

    {%- render 'article-hero-card',
        class: class,
        notice: notice,
        title: title,
        image: image,
        url: url,
        description: description,
        info: info,
        blog: blog
    -%}
  {% endfor %}
{%- endcapture -%}
{%- render 'carousel', class: 'carousel--article-hero-card article-hero-card__contents bg--black', children: content_slides, spacing: 0, slides_per_view: 1, navigation: true -%}

{%- render 'carousel' -%}
{%- assign post = blog.articles[0] -%}

{%- assign image_src = post.image.src | img_url: 'master' -%}
{%- assign published_date = post.published_at | date: '%b %d, %Y' -%}
{%- render 'post-card',
  title: post.title,
  url: post.url,
  image_src: image_src,
  image_alt: post.image.alt,
  author: post.author,
  published_date: published_date
  class: 'bg--black post-card--test' -%}

{%- render 'grid' -%}
{%- render 'post-card',
  title: post.title,
  url: post.url,
  image_src: image_src,
  image_alt: post.image.alt,
  author: post.author,
  published_date: published_date,
  class: 'bg--black post-card--test post-card--viewed' -%}

{%- render 'pagination' -%}
{%- render 'footer-cta', title: 'MISSING OUT NEW STUFF TOTALLY SUCKS. SO, DONâ€™T MISS OUT.', enable_subscribe_form: true %}
