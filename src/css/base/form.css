/* Form CSS */

.form-field {
  position: relative;
  background-color: transparent;

  .form-search--no-margin &, &--no-margin {
    margin: 0;
  }

  @media (--md-max) {
    margin: 0;
  }

  &--hidden {
    display: none;
    visibility: hidden;
  }
}

.form-field__label {
  cursor: text;
  position: relative;
  margin-bottom: 1rem;
  color: var(--shadow);

  .product-add-to-cart & {
    text-transform: lowercase;
  }

  &--as-placeholder {
    position: absolute;
    z-index: 1;
    top: 50%;
    left: 15px;
    margin: 0;
    transform: translate(0, -57%);
    background-color: var(--white);
    transition: transform var(--transition-timing) var(--transition-easing), opacity var(--transition-timing) var(--transition-easing);
    padding: 0 5px;

    @media (--md-max) {
      transform: translate(0, -75%);
      left: 10px;

      .form-field--newsletter & {
        transform: translate(0, -57%);
      }
    }

    @nest .field-has-value ~ &,
    .form-field__input:focus ~ & {
      transform: translate(10%, -57%);
      opacity: 0;

      @media (--md-max) {
        transform: translate(10%, -75%);
        opacity: 0;
      }
    }
  }

  .form-field--inner & {
    transform: translateY(-55%);
  }
}

.form-field__input-wrapper {
  .form-field--label-top & {
    display: flex;
    flex-direction: column-reverse;
  }
}

.form-field__input {
  position: relative;
  z-index: 2;
  width: 100%;
  padding: 12px 20px;
  background: var(--white);
  box-shadow: inset 0 0 0 1px var(--shadow);
  border: none;
  border-radius: 0;
  color: var(--shadow);
  transition: all var(--transition-timing) var(--transition-easing);

  &:focus {
    outline: none;
    box-shadow: inset 0 0 0 2px var(--bronze);
  }

  .form-field--textarea & {
    resize: none;
    padding-top: 8px;
    padding-bottom: 8px;
  }

  .form-field--no-margin & {
    padding-right: 130px;
    margin: 0;
  }

  .form-search--nav & {
    border: none;
    padding: 0;
    height: 40px;
    margin: 0;
  }

  .form-field--newsletter & {
    @media (--md-max) {
      margin: 0;
    }
  }

  &.field-has-error,
  &.field-empty {
    box-shadow: inset 0 0 0 1px var(--blood);

    &:focus {
      box-shadow: inset 0 0 0 2px var(--blood);
    }
  }

  .form-field--borderless &:not(:focus),
  .form-field--borderless &:not(.field-has-error,.field-empty,.field-has-value) {
    box-shadow: none;
  }
}

.button.form-submit {
  display: block;
  cursor: pointer;
  outline: none;

  .form-field--inner & {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    right: 1rem;
    width: 108px;
    height: 48px;
  }
}

.form-row {
  @media (--md) {
    display: flex;
    flex-direction: row;
    width: 100%;
  }
}

.form-row--field {
  width: 100%;

  .form-row--2 & {
    @media (--md) {
      width: calc(50% - 10px);

      &:nth-of-type(odd) {
        margin-right: 20px;
      }
    }
  }
}

.form-label {
  color: var(--shadow);
}

.form-field__error {
  @extend .b3;

  display: none;
  color: var(--blood);

  .field-empty ~ &,
  .field-has-error ~ & {
    display: block;
  }

  .form-field--label-top & {
    order: -1;
    margin-top: 4px;
  }
}

/* Errors generated by Shopify forms */

form .errors {
  @extend .b1;

  margin: 0 0 20px;
  color: var(--blood);
}
